{
  "title": "tests_test_validator.py",
  "text": "## [[Tags]]\n[[Python]]\n\n```python\n# tests/test_validator.py\n\nimport pytest\nimport sys\nfrom pathlib import Path\n\n# ðŸ”§ Asegura que src/ sea visible desde cualquier entorno\nsys.path.append(str(Path(__file__).resolve().parents[1]))\n\nfrom src.validator import (\n    validar_texto_no_vacio,\n    validar_longitud,\n    validar_titulo,\n    validar_autor,\n    validar_documento\n)\n\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Test individuales\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\ndef test_validar_texto_no_vacio():\n    assert validar_texto_no_vacio(\"   \")[0] is False\n    assert validar_texto_no_vacio(\"Contenido Ãºtil\")[0] is True\n\ndef test_validar_longitud():\n    texto_corto = \"Esto es un texto corto.\"\n    texto_largo = \" \".join([\"palabra\"] * 200)\n    assert validar_longitud(texto_corto)[0] is False\n    assert validar_longitud(texto_largo)[0] is True\n\ndef test_validar_titulo():\n    assert validar_titulo(\"untitled\")[0] is False\n    assert validar_titulo(\"\")[0] is False\n    assert validar_titulo(\"Mi gran investigaciÃ³n sobre redes\")[0] is True\n\ndef test_validar_autor():\n    assert validar_autor(\"anonymous\")[0] is False\n    assert validar_autor(\"-\")[0] is False\n    assert validar_autor(\"Jane Doe\")[0] is True\n\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n# Test de la funciÃ³n principal\n# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\ndef test_validar_documento_valido():\n    texto = \" \".join([\"contenido\"] * 200)\n    titulo = \"Un estudio profundo sobre grafos semÃ¡nticos\"\n    autor = \"Dr. Ada Lovelace\"\n    es_valido, info = validar_documento(texto, titulo, autor)\n    assert es_valido is True\n    assert info == {}\n\ndef test_validar_documento_invalido():\n    texto = \"    \"  # vacÃ­o\n    titulo = \"untitled\"\n    autor = \"\"\n    es_valido, info = validar_documento(texto, titulo, autor)\n    assert es_valido is False\n    assert \"texto vacÃ­o\" in \" \".join(info.get(\"razones\", []))\n    assert any(\"autor\" in r for r in info.get(\"razones\", []))\n\n```",
  "tags": "[[Python]]",
  "type": "text/markdown",
  "created": "20250422211125746",
  "modified": "20250422211125746"
}