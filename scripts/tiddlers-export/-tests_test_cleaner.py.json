{
  "title": "-tests_test_cleaner.py",
  "text": "## [[Tags]]\n-tests_test_cleaner.py [[--- Codigo]] [[--ğŸ§ª tests/]] -src_cleaner.py [[ğŸŒ€2ï¸âƒ£ Limpieza avanzada]] [[ğŸŒ€1ï¸âƒ£ Limpieza y PreparaciÃ³n de Texto]]\n\n```python\n# tests/test_cleaner.py\nimport sys\nfrom pathlib import Path\nsys.path.append(str(Path(__file__).resolve().parents[1]))  # âœ… Esto primero\n\nfrom src.cleaner import (  # âœ… Ahora Python sabe dÃ³nde estÃ¡ 'src'\n    limpiar_texto,\n    normalizar_unicode,\n    eliminar_lineas_ruido,\n    limpiar_texto_completo,\n)\n\n\n# ğŸ”§ Asegura que src/ sea visible desde cualquier entorno\nsys.path.append(str(Path(__file__).resolve().parents[1]))\n\n# ğŸ”¹ Test 1: Limpieza bÃ¡sica de saltos y espacios\ndef test_limpieza_espacios_y_saltos():\n    texto = \"Este es un texto   con  espacios  \\n y saltos \\n\\n\\n innecesarios.\"\n    resultado = limpiar_texto(texto)\n    assert \"\\n\\n\" in resultado\n    assert \"  \" not in resultado\n    assert resultado.startswith(\"Este es un texto\")\n\n# ğŸ”¹ Test 2: NormalizaciÃ³n Unicode de caracteres acentuados\ndef test_normalizacion_unicode():\n    texto = \"Cafe\\u0301\"  # \"CafÃ©\" descompuesto (C + acento)\n    resultado = normalizar_unicode(texto)\n    assert resultado == \"CafÃ©\"\n\n# ğŸ”¹ Test 3: EliminaciÃ³n de lÃ­neas de sÃ­mbolos decorativos\ndef test_elimina_lineas_de_ruido():\n    texto = \"Resumen\\n****\\nEste es el contenido\\n...\\n\"\n    resultado = eliminar_lineas_ruido(texto)\n    assert \"****\" not in resultado\n    assert \"...\" not in resultado\n    assert \"Resumen\" in resultado\n    assert \"contenido\" in resultado\n\n# ğŸ”¹ Test 4: Encabezados convertidos a Markdown si modo_md=True\ndef test_limpieza_completa_con_markdown():\n    texto = \"1. IntroducciÃ³n\\n\\nEste trabajo estudia...\\n\\nConclusiÃ³n\"\n    resultado = limpiar_texto_completo(texto, modo_md=True)\n    assert \"## 1. IntroducciÃ³n\" in resultado\n    assert \"## ConclusiÃ³n\" in resultado\n    assert \"estudia\" in resultado\n\n# ğŸ”¹ Test 5: Texto tÃ©cnico simulado con fÃ³rmula y encabezado\ndef test_texto_tecnico_simulado_formula():\n    texto = \"\"\"\n    B. 519.2 Probability and Statistics, the Science of Uncertainty\n    =====================\n    Let X ~ N(0, 1) be a standard normal random variable.\n\n    Then: E[X] = 0   and    Var(X) = 1\n\n    ***\n    \"\"\"\n\n    resultado = limpiar_texto_completo(texto, modo_md=True)\n    assert \"519.2 Probability\" in resultado\n    assert \"Let X ~ N(0, 1)\" in resultado\n    assert \"E[X] = 0\" in resultado\n    assert \"***\" not in resultado\n    assert \"=====\" not in resultado\n\n```",
  "tags": "-tests_test_cleaner.py [[--- Codigo]] [[--ğŸ§ª tests/]] -src_cleaner.py [[ğŸŒ€2ï¸âƒ£ Limpieza avanzada]] [[ğŸŒ€1ï¸âƒ£ Limpieza y PreparaciÃ³n de Texto]]",
  "type": "text/markdown",
  "created": "20250424205039134",
  "modified": "20250424205039134"
}