{
  "title": "README.logger.md",
  "text": "## [[Tags]]\n[[--- Documentacion]]\n\n```markdown\n# üìò Logger ‚Äì Dewey Pipeline\n\nEste m√≥dulo permite registrar todos los eventos clave del procesamiento de PDFs de forma visual (emoji en consola) y persistente (archivos `.log` y `.jsonl`), con soporte multilenguaje y trazabilidad por ejecuci√≥n.\n\n---\n\n## üéØ Objetivo\n\n- Proveer retroalimentaci√≥n amigable en tiempo real\n- Generar trazas auditables por ejecuci√≥n\n- Facilitar debugging, revisi√≥n, m√©tricas y transparencia\n\n---\n\n## üìÅ Archivos generados\n\nTodos los archivos se guardan autom√°ticamente en la carpeta:\n\noutput/logs/\n\n| Archivo | Descripci√≥n |\n| --- | --- |\n| `run_YYYY-MM-DD_HH-MM-SS.log` | Log plano legible para humanos |\n| `run_YYYY-MM-DD_HH-MM-SS.jsonl` | Log estructurado en formato JSONL (1 l√≠nea = 1 evento) |\n| `<nombre_archivo>.log` | Log individual por cada PDF procesado |\n\n---\n\n## üîÅ Formato JSONL estructurado\n\nCada l√≠nea representa un evento del pipeline:\n\n```json\n{\n  \"timestamp\": \"2025-04-10T15:42:21.543Z\",\n  \"ejecucion\": \"c78fbccbeed045b5919e8a7e79dd4d73\",\n  \"evento\": \"clasificado\",\n  \"archivo\": \"input/Libro.pdf\",\n  \"categoria\": \"Tecnolog√≠a\",\n  \"dewey\": \"600\",\n  \"nivel\": \"INFO\"\n}\n\n```\n\n## üì¶ Campos incluidos\n\n| Campo | Significado |\n| --- | --- |\n| `timestamp` | Fecha y hora del evento |\n| `ejecucion` | ID √∫nico para toda la ejecuci√≥n del pipeline |\n| `evento` | Nombre del evento registrado |\n| `archivo` | Ruta del archivo procesado |\n| `categoria` | Categor√≠a asignada (si aplica) |\n| `dewey` | C√≥digo Dewey (si aplica) |\n| `nivel` | Nivel del log (`INFO`, `WARNING`, `ERROR`) |\n\n---\n\n## üß† Eventos disponibles\n\n| Evento | Emoji | Nivel sugerido | Contexto |\n| --- | --- | --- | --- |\n| `procesar` | üìò | INFO | Inicio del procesamiento de un PDF |\n| `clasificado` | üìñ | INFO | Clasificaci√≥n exitosa del documento |\n| `export_ok` | ‚úîÔ∏è | INFO | Exportaci√≥n finalizada correctamente |\n| `warning_meta` | ‚ö†Ô∏è | WARNING | Metadatos faltantes o inv√°lidos |\n| `warning_texto_corto` | ‚ö†Ô∏è | WARNING | El texto extra√≠do es muy breve |\n| `error_parse` | ‚ùå | ERROR | Fallo al procesar o extraer texto |\n| `archivo_inaccesible` | ‚ùå | ERROR | No se puede abrir el archivo |\n\n---\n\n## ‚öôÔ∏è Personalizaci√≥n v√≠a variables de entorno\n\n| Variable | Descripci√≥n | Valor por defecto |\n| --- | --- | --- |\n| `LANG` | Idioma de mensajes (`es`, `en`) | `es` |\n| `LOG_LEVEL` | Nivel m√≠nimo a registrar | `INFO` |\n| `EXECUTION_ID` | ID manual para auditor√≠a externa | `auto-generado` |\n\n---\n\n## üìå Recomendaciones\n\n- Se recomienda revisar `run_*.jsonl` para an√°lisis estructurado (Python, jq, etc.)\n- Los `.log` individuales por archivo permiten depurar errores aislados\n- Puedes incluir los logs en un dashboard externo si se requiere\n\n---\n\n## üß™ Pruebas\n\nEl archivo `test_logger.py` incluye pruebas para:\n\n- Mensajes visuales esperados\n- Verificaci√≥n de archivos `.jsonl`\n- Logs individuales por PDF\n```",
  "tags": "[[--- Documentacion]]",
  "type": "text/markdown",
  "created": "20250422015630455",
  "modified": "20250422015630455"
}