{
  "title": "-README.logger.md",
  "text": "## [[Tags]]\n-README.logger.md [[--- Codigo]] [[--ğŸ“˜ Documentacion]]\n\n```markdown\n# ğŸ“˜ Logger â€“ OpenPages-pipeline\n\nEste mÃ³dulo permite registrar todos los eventos clave del procesamiento de PDFs de forma visual (emoji en consola) y persistente (archivos `.log` y `.jsonl`), con soporte multilenguaje y trazabilidad por ejecuciÃ³n.\n\n---\n\n## ğŸ¯ Objetivo\n\n- Proveer retroalimentaciÃ³n amigable en tiempo real\n- Generar trazas auditables por ejecuciÃ³n\n- Facilitar debugging, revisiÃ³n, mÃ©tricas y transparencia\n\n---\n\n## ğŸ“ Archivos generados\n\nTodos los archivos se guardan automÃ¡ticamente en la carpeta:\n\n```\noutput/logs/\n```\n\n| Archivo | DescripciÃ³n |\n| --- | --- |\n| `run_YYYY-MM-DD_HH-MM-SS.log` | Log plano legible para humanos |\n| `run_YYYY-MM-DD_HH-MM-SS.jsonl` | Log estructurado en formato JSONL (1 lÃ­nea = 1 evento) |\n| `<nombre_archivo>.log` | Log individual por cada PDF procesado |\n\n---\n\n## ğŸ” Formato JSONL estructurado\n\nCada lÃ­nea representa un evento del pipeline:\n\n```json\n{\n  \"timestamp\": \"2025-04-10T15:42:21.543Z\",\n  \"ejecucion\": \"c78fbccbeed045b5919e8a7e79dd4d73\",\n  \"evento\": \"clasificado\",\n  \"archivo\": \"input/Libro.pdf\",\n  \"categoria\": \"TecnologÃ­a\",\n  \"dewey\": \"600\",\n  \"nivel\": \"INFO\"\n}\n```\n\n---\n\n## ğŸ“¦ Campos incluidos\n\n| Campo | Significado |\n| --- | --- |\n| `timestamp` | Fecha y hora del evento |\n| `ejecucion` | ID Ãºnico para toda la ejecuciÃ³n del pipeline |\n| `evento` | Nombre del evento registrado |\n| `archivo` | Ruta del archivo procesado |\n| `categoria` | CategorÃ­a asignada (si aplica) |\n| `dewey` | CÃ³digo Dewey (si aplica) |\n| `nivel` | Nivel del log (`INFO`, `WARNING`, `ERROR`) |\n\n---\n\n## ğŸ§  Eventos disponibles\n\n| Evento | Emoji | Nivel sugerido | Contexto |\n| --- | --- | --- | --- |\n| `procesar` | ğŸ“˜  | INFO | Inicio del procesamiento de un PDF |\n| `clasificado` | ğŸ“–  | INFO | ClasificaciÃ³n exitosa del documento |\n| `export_ok` | âœ”ï¸  | INFO | ExportaciÃ³n finalizada correctamente |\n| `warning_meta` | âš ï¸  | WARNING | Metadatos faltantes o invÃ¡lidos |\n| `warning_texto_corto` | âš ï¸  | WARNING | El texto extraÃ­do es muy breve |\n| `error_parse` | âŒ   | ERROR | Fallo al procesar o extraer texto |\n| `archivo_inaccesible` | âŒ   | ERROR | No se puede abrir el archivo |\n\n---\n\n## âš™ï¸ PersonalizaciÃ³n vÃ­a variables de entorno\n\n| Variable | DescripciÃ³n | Valor por defecto |\n| --- | --- | --- |\n| `LANG` | Idioma de mensajes (`es`, `en`) | `es` |\n| `LOG_LEVEL` | Nivel mÃ­nimo a registrar | `INFO` |\n| `EXECUTION_ID` | ID manual para auditorÃ­a externa | `auto-generado` |\n\n---\n\n## ğŸ“Œ Recomendaciones\n\n- Revisar `run_*.jsonl` para anÃ¡lisis estructurado (Python, jq, dashboards)\n- Usar los `.log` individuales para depurar errores aislados\n- Integrar los logs en herramientas externas si se requiere trazabilidad continua\n\n---\n\n## ğŸ§ª Pruebas\n\nEl archivo `test_logger.py` incluye pruebas para:\n\n- Mensajes visuales esperados\n- VerificaciÃ³n de archivos `.jsonl`\n- Logs individuales por PDF\n\n---\n\n> `logger.py` es el narrador silencioso del pipeline. Te dice quÃ© pasÃ³, cuÃ¡ndo y cÃ³mo â€” sin ruido, con trazabilidad y respeto.\n```",
  "tags": "-README.logger.md [[--- Codigo]] [[--ğŸ“˜ Documentacion]]",
  "type": "text/markdown",
  "created": "20250423165831794",
  "modified": "20250423165831794"
}